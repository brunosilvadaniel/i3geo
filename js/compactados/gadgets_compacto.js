if(typeof(i3GEO)==='undefined'){var i3GEO={}}i3GEO.gadgets={PARAMETROS:{"mostraInserirKml":{idhtml:"inserirKml"},"mostraEscalaNumerica":{idhtml:"escala"},"mostraEscalaGrafica":{idhtml:"escalaGrafica"},"mostraBuscaRapida":{idhtml:"buscaRapida",servicosexternos:false,temasmapa:true,google:true,tipo:"mini"},"mostraVisual":{idhtml:""},"mostraHistoricoZoom":{idhtml:"historicozoom"},"mostraMenuSuspenso":{permiteLogin:true,marcadores:true,idhtml:"menus",deslocaEsquerda:0,menuUnico:false,parametrosYUI:{iframe:false,autosubmenudisplay:false,showdelay:200,hidedelay:500,lazyload:false}},"mostraVersao":{idhtml:"versaoi3geo"},"mostraEmail":{idhtml:"emailInstituicao"}},mostraEmail:function(id){if(arguments.length===0||id===""){id=i3GEO.gadgets.PARAMETROS.mostraEmail.idhtml}else{i3GEO.gadgets.PARAMETROS.mostraEmail.idhtml=id}i3GEO.util.defineValor(id,"innerHTML",i3GEO.parametros.emailInstituicao)},mostraVersao:function(id){if(arguments.length===0||id===""){id=i3GEO.gadgets.PARAMETROS.mostraVersao.idhtml}else{i3GEO.gadgets.PARAMETROS.mostraVersao.idhtml=id}i3GEO.util.defineValor(id,"innerHTML",i3GEO.parametros.mensageminicia)},mostraInserirKml:function(id){var i,ins,temp;if(arguments.length===0){id=i3GEO.gadgets.PARAMETROS.mostraInserirKml.idhtml}if($i(id)){if(!$i("i3geo_urlkml")){i=$inputText(id,"290","i3geo_urlkml","kml url","35","kml");ins="<table><tr><td>"+i;temp='i3GEO.Interface.adicionaKml();';ins+="</td><td><img src='"+i3GEO.configura.locaplic+"/imagens/branco.gif"+"' class='tic' onclick='"+temp+"' /></td></tr></table>";$i(id).innerHTML=ins}}},mostraEscalaNumerica:function(id){var i,ins,temp,onde;if(arguments.length===0){id=i3GEO.gadgets.PARAMETROS.mostraEscalaNumerica.idhtml}onde=$i(id);if(onde){if(onde.style.display=="none"){onde.style.display="block"}if(!$i("i3geo_escalanum")){ins="<form id='i3GEOescalanumForm' >"+"<input type='text' name='' value='"+parseInt(i3GEO.parametros.mapscale,10)+"' class='digitar' size='10' title='' id='i3geo_escalanum' onclick='javascript:this.select();'>"+"</form>";onde.innerHTML=ins;$i("i3GEOescalanumForm").onsubmit=function(){i3GEO.navega.aplicaEscala(i3GEO.configura.locaplic,i3GEO.configura.sid,document.getElementById("i3geo_escalanum").value);return false}}i3GEO.eventos.adicionaEventos("NAVEGAMAPA",["i3GEO.gadgets.atualizaEscalaNumerica()"])}},atualizaEscalaNumerica:function(escala){var e=$i("i3geo_escalanum");if(!e){i3GEO.eventos.removeEventos("NAVEGAMAPA",["i3GEO.gadgets.atualizaEscalaNumerica()"]);return}if(arguments.length===1){e.value=escala}else{if(i3GEO.parametros.mapscale!==""){e.value=parseInt(i3GEO.parametros.mapscale,10)}else{e.value=0}}},mostraEscalaGrafica:function(id){if(arguments.length===0){id=i3GEO.gadgets.PARAMETROS.mostraEscalaGrafica.idhtml}var ins;if($i(id)){if(!$i("imagemEscalaGrafica")){ins="<img class='menuarrow' src=\""+i3GEO.configura.locaplic+"/imagens/branco.gif\" title='op&ccedil;&otilde;es' onclick='i3GEO.mapa.dialogo.opcoesEscala()' style='cursor:pointer'/><img id=imagemEscalaGrafica src='' />";$i(id).innerHTML=ins}i3GEO.gadgets.atualizaEscalaGrafica();i3GEO.eventos.adicionaEventos("NAVEGAMAPA",["i3GEO.gadgets.atualizaEscalaGrafica()"])}},atualizaEscalaGrafica:function(){var e=$i("imagemEscalaGrafica");if(!e){i3GEO.eventos.removeEventos("NAVEGAMAPA",["i3GEO.gadgets.atualizaEscalaGrafica()"]);return}temp=function(retorno){eval(retorno.data);$i("imagemEscalaGrafica").src=scaimagem};i3GEO.php.escalagrafica(temp)},mostraBuscaRapida:function(id){var ins="",temp,fbusca,hashMustache,templateMustache,conf;conf=i3GEO.gadgets.PARAMETROS.mostraBuscaRapida;if(arguments.length===0){id=conf.idhtml}i3GEO.gadgets.mostraBuscaRapida.id=id;temp=$i(id);if(temp){hashMustache={"idform":"i3GEObotaoFormBuscaRapida"+id,"idinput":"valorBuscaRapida"+id,"link":i3GEO.configura.locaplic+"/ajuda_usuario.php?idcategoria=8&idajuda=71","branco":i3GEO.configura.locaplic+"/imagens/branco.gif","ajuda":$trad("p13"),"prop":"i3GEObotaoPropriedadesBuscaRapida"+id,"busca":"i3GEObotaoBuscaRapida"+id,"cabecalho":$trad("x36")};if(conf.tipo==="mini"){templateMustache=""+"<table><tr>"+"	<td><a class=ajuda_usuario target=_blank href='{{link}}' ><b> </b></a></td>"+"	<td><img src='{{branco}}' title='{{ajuda}}' class='ticPropriedades2' id={{prop}} style='margin-right:5px;margin-left:5px;'/></td>"+"	<td>"+"		<form id={{idform}}>"+"			<div class='i3geoForm' style='width:160px;'><input class=i3geoFormSemIcone type=text value='' id='{{idinput}}' /></div>"+"		</form>"+"	</td>"+"	<td><img src='{{branco}}' class='ticfind' id={{busca}} style='margin-left:3px;' /></td>"+"</tr></table>";ins=Mustache.render(templateMustache,hashMustache)}if(conf.tipo==="normal"){templateMustache=""+"<p class=paragrafo >{{{cabecalho}}}</p>"+"<form id={{idform}}>"+"	<div class='i3geoForm i3geoFormIconeBusca'>"+"		<input type=text value='' id='{{idinput}}' />"+"	</div>"+"</form>";ins=Mustache.render(templateMustache,hashMustache);hashMustache={"externo":"checked","interno":"","google":"checked","titulo":$trad("x37"),"servExt":$trad("x38"),"servMap":$trad("x39"),"googlemaps":false,"ajuda":$trad("x40")};if(i3GEO.Interface.ATUAL==="googlemaps"){hashMustache["googlemaps"]=true}if(conf.servicosexternos==false){hashMustache["externo"]=""}if(conf.temasmapa==true){hashMustache["interno"]="checked"}templateMustache=""+"<p class=paragrafo >{{titulo}}:</p>"+"<p class=paragrafo style='display:inline;'>"+"	<input style=cursor:pointer onclick='i3GEO.gadgets.PARAMETROS.mostraBuscaRapida.servicosexternos = this.checked' type=checkbox {{externo}} >"+"	{{servExt}}</p>"+"<br><p class=paragrafo style='display:inline;'>"+"	<input style=cursor:pointer onclick='i3GEO.gadgets.PARAMETROS.mostraBuscaRapida.temasmapa = this.checked' type=checkbox {{interno}} >"+"	{{servMap}}</p>"+"{{#googlemaps}}"+"<p class=paragrafo style='display:inline;'>"+"	<input style=cursor:pointer onclick='i3GEO.gadgets.PARAMETROS.mostraBuscaRapida.google = this.checked' type=checkbox {{google}} >"+"	Google"+"</p>"+"{{/googlemaps}}"+"<p class=paragrafo >{{ajuda}}</p>";ins+=i3GEO.util.parseMustache(templateMustache,hashMustache)}temp.innerHTML=ins;fbusca=function(){if(conf.google===false&&conf.servicosexternos===false&&conf.temasmapa===false){i3GEO.janela.tempoMsg($trad("x35"));return}if($i("valorBuscaRapida"+id).value===""){i3GEO.janela.tempoMsg($trad("x36"));return}i3GEO.janela.cria("300px","280px",i3GEO.configura.locaplic+"/ferramentas/buscarapida/index.htm","","","<div class='i3GeoTituloJanela'>"+$trad("o2")+"</div>");return false};if($i("i3GEObotaoBuscaRapida"+id)){$i("i3GEObotaoBuscaRapida"+id).onclick=fbusca}$i("i3GEObotaoFormBuscaRapida"+id).onsubmit=fbusca;if($i("i3GEObotaoPropriedadesBuscaRapida"+id)){$i("i3GEObotaoPropriedadesBuscaRapida"+id).onclick=function(){var janela,hashMustache,templateMustache,ins,interno="",externo="",google="";if(conf.servicosexternos){externo="checked"}if(conf.temasmapa){interno="checked"}if(conf.google){google="checked"}hashMustache={"externo":externo,"interno":interno,"google":google,"titulo":$trad("x37"),"servExt":$trad("x38"),"servMap":$trad("x39"),"googlemaps":false,"ajuda":$trad("x40")};if(i3GEO.Interface.ATUAL==="googlemaps"){hashMustache["googlemaps"]=true}templateMustache=""+"<p class=paragrafo >{{titulo}}:</p>"+"<table class=lista3 >"+"	<tr>"+"		<td><input style=cursor:pointer onclick='i3GEO.gadgets.PARAMETROS.mostraBuscaRapida.servicosexternos = this.checked' type=checkbox {{externo}} ></td>"+"		<td>{{servExt}}</td>"+"	</tr>"+"	<tr>"+"		<td><input style=cursor:pointer onclick='i3GEO.gadgets.PARAMETROS.mostraBuscaRapida.temasmapa = this.checked' type=checkbox {{interno}} ></td>"+"		<td>{{servMap}}</td>"+"	</tr>"+"{{#googlemaps}}"+"	<tr>"+"		<td><input style=cursor:pointer onclick='i3GEO.gadgets.PARAMETROS.mostraBuscaRapida.google = this.checked' type=checkbox {{google}} ></td>"+"		<td>Google</td>"+"	</tr>"+"{{/googlemaps}}"+"</table><br><p class=paragrafo >{{ajuda}}</p>";ins=i3GEO.util.parseMustache(templateMustache,hashMustache);janela=i3GEO.janela.cria("300px","150px","","","","<div class='i3GeoTituloJanela'>"+$trad("s5")+"</div>","i3GEOpropriedadesBuscaRapida"+id);janela[0].setBody("<div>"+ins+"</div>")}}}},mostraHistoricoZoom:function(id){if(arguments.length===0){id=i3GEO.gadgets.PARAMETROS.mostraHistoricoZoom.idhtml}if($i(id)){marcadorZoom="";var ins="<table style='text-align:center;position:relative;left:";if(navm){ins+="0px;'>"}else{ins+="6px;'>"}ins+="<tr><td><img  id='i3geo_zoomanterior' class='zoomAnterior' title='anterior' src='"+i3GEO.configura.locaplic+"/imagens/branco.gif"+"'  /></td>";ins+="<td>&nbsp;</td>";ins+="<td><img  id='i3geo_zoomproximo' class='zoomProximo' title='proximo' src='"+i3GEO.configura.locaplic+"/imagens/branco.gif"+"'  /></td>";ins+="</tr></table>";$i(id).innerHTML=ins}},visual:{inicia:function(id){alert("A i3GEO.gadgets.visual foi depreciado")},troca:function(visual){alert("A i3GEO.gadgets.visual foi depreciado")}}};