<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<link rel="stylesheet" type="text/css" href="../../css/i3geo_ferramentas.css">
<link rel="stylesheet" type="text/css" href="../../pacotes/yui231/build/tabview/assets/skins/sam/tabview.css">
<style type="text/css">
.yuibutton button{padding-left:2em;background:url(../../imagens/tic.png) 5% 50% no-repeat;}
</style>
<title></title>
</head>
<body class="yui-skin-sam" >
	<div class=verdeescuro style="top:0px;cursor:pointer;left:0px;">
		<div id=guia1 >Servi&ccedil;os</div>
		<div id=guia2 >Metadados</div>
		<div id=guia3 >Temas</div>
	</div>
	<div id=geral style="left:0px;top:0px;">
		<div class=guiaobj id="guia1obj" style="left:5px;top:0px;text-align:left">
			<div id=men1 style="top:5px;left:0px;">
				<a href="../../documentacao/ajuda/The_ArcIMS_OGC_WMS_Connector.pdf" target=blank >Veja como criar web services no ARCIMS</a>
				<br><a href="../../documentacao/ajuda/ArcGIS9.x.html" target=blank >Veja como utilizar web services no ARCGIS</a><br>
			</div>
			<div id=opc1 style="text-align:left;top:5px;left:0px">
				Digite o endere&ccedil;o do servi&ccedil;o ou escolha da lista abaixo. Utilize as guias acima para ver o resultado do acesso.<br>
				<input class=digitar id=servico value="" size=60 />
			</div>
			<div id=RSSwms style="text-align:left;color:navy;cursor:pointer;"></div>
		</div>
		<div class=guiaobj id="guia2obj" style="display:none;left:0px;top:00px">
			<br><input class=executar type=buttom value="getCapabilities" size=20 onclick="getcapabilities()" /><br>
			<div id=resultadoget style="display:block;position:relative;top:5px;left:1px">
			</div>
		</div>
		<div class=guiaobj id="guia3obj" style="left:0px;display:none;">
			<div style="text-align:left;top:0px;left:0px;font-size:10px">
				<div id=men2 style="top:5px;left:0px;">
				Após a conex&atilde;o ser estabelecida e surgir a lista de temas, selecione a camada que ser&aacute; adicionada ao mapa.<br>
				</div>
				<div id=textoSLD style="display:none;font-size:10px" >
				<p>Opcionalmente vc pode indicar o tipo de representa&ccedil;&atilde;o que ser&aacute; utilizada.<br>
				N&atilde;o altere o tipo de representa&ccedil;&atilde;o se a camada escolhida for uma imagem (dados raster) ou se voc&ecirc; tiver d&uacute;vidas sobre ela.<br>
				<select id=tiporep >
				<option value="">---</option>
				<option value="poligonal">poligonal</option>
				<option value="linear">linear</option>
				<option value="pontual">pontual</option>
				</select>
				</div>
				 
			</div>
			<div id=listatemas style="display:block;position:relative;top:10px;left:0px;">
			</div>
		</div>
	</div>
	<div id="aguarde">
		<img alt="" src="../../imagens/aguarde.gif" />Aguarde...
	</div>

<script src="../i3geo_tudo_compacto.js.php" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript" src="index.js"></script>

<script type="text/javascript" >
mensagemAjuda("men1",document.getElementById("men1").innerHTML)
mensagemAjuda("men2",document.getElementById("men2").innerHTML)
g_RSSwms = new Array("")

aguarde("block")
//g_locaplic = window.parent.i3GEO.configura.locaplic;
if (document.getElementById("RSSwms"))
{
	if (g_RSSwms.length > 0)
	{
		var p = g_locaplic+"/classesphp/wscliente.php?funcao=listaRSSwsARRAY&rss="+g_RSSwms.join("|")+"&tipo=WMS";
		var cp = new cpaint();
		//cp.set_debug(2)
		cp.set_response_type("JSON");
		cp.call(p,"listaRSSwsARRAY",mostraRetornowmsRSS);
	}
}
function mostraRetornowmsRSS(retorno)
{
	
	var reg = /Erro/gi;
	if (retorno.data.rss.search(reg) != -1)
	{
		alert("OOps! Ocorreu um erro\n"+retorno.data);
		return;
	}
	var canais = retorno.data.canais
	var ncanais = canais.length
	var ins = "<br>"+retorno.data.rss
	for (i=0;i<ncanais; i++)
	{
		var caso = canais[i]
		ins += "\<p class=clique onclick=\"registraws('"+caso.link+"','"+caso.id_ws+"')\" \>\<b\>"+caso.title+"\<\/b\>&nbsp;"+caso.description+"&nbsp;("+caso.author+")"
		if(caso.nacessos > 0)
		{
			var pc = (parseInt(caso.nacessosok) * 100) / parseInt(caso.nacessos)
			ins += " \<span style=color:gray \>(disponibilidade: "+pc+"%, acessos considerados: "+caso.nacessos+")\<\/span>\<\/p\>";
		}
	}
	document.getElementById("RSSwms").innerHTML = ins+"<br><br>"
	aguarde("none")
}
</script>
</body>
</html>
