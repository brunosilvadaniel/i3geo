<html>
<head>
<script src="../../classesjs/cpaint/cpaint2.inc.compressed.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript" src="http://maps.google.com/maps?file=api&v=1&key=ABQIAAAAg9kA9xQlYqK9iBDKaeTpgxSieGwtcPDeiUtRiq7Xa63cyLppcxTVYXnVlPwveOe-sXuXfpBeNpL6pA">
</script>
  </head>
  <body onunload="GUnload()">
    <div id="map" style="width: 320px; height: 320px"></div>
  </body>
    <script>
    //chave na producao= ABQIAAAAg9kA9xQlYqK9iBDKaeTpgxSieGwtcPDeiUtRiq7Xa63cyLppcxTVYXnVlPwveOe-sXuXfpBeNpL6pA
    //chave no desenvolvimento = ABQIAAAAg9kA9xQlYqK9iBDKaeTpgxQ_qvn5wqSkbcx9uoqrWGnUcZ7lqhRVzkJwzeDN3nQJheG7FjoxyruBIQ
	window.parent.document.getElementById("boxg").style.zIndex = 0
    navm = false; // IE
    navn = false; // netscape
    var app = navigator.appName.substring(0,1);
    if (app=='N') navn=true; else navm=true;
    docmapa = window.parent.document
    pol = window.parent.objmapa.extent
    ret = pol.split(" ")
    pt1 = (( (ret[0] * -1) - (ret[2] * -1) ) / 2) + ret[0] *1
    pt2 = (((ret[1] - ret[3]) / 2)* -1) + ret[1] *1
    pt = pt1+","+pt2
    var map = new GMap(document.getElementById("map"));
    map.addControl(new GLargeMapControl());
    map.addControl(new GMapTypeControl());
    map.setMapType(G_SATELLITE_TYPE);
    map.centerAndZoom(new GPoint(pt1,pt2), 7);
    GEvent.addListener(map, "moveend", function() {
    	ondegoogle(map);
    });
    GEvent.addListener(map, "zoomend", function() {
    	ondegoogle(map);
    });
    function moveMapa(bd)
    {
    	nex = bd.minX+" "+bd.minY+" "+bd.maxX+" "+bd.maxY
    	var p = window.parent.g_locaplic+"/classesphp/mapa_controle.php?funcao=mudaext&ext="+nex
    	var cp = new cpaint();
    	//cp.set_debug(2)
    	cp.set_response_type("JSON");
    	cp.call(p,"mudaExtensao",window.parent.ajaxredesenha);
    	//ondegoogle(bd);
    }
    function ondegoogle()
    {
    	var bd = map.getBoundsLatLng();
    	var xyt1 = window.parent.convddtela(bd.minX,bd.minY,window.parent.document);
    	var xyt2 = window.parent.convddtela(bd.maxX,bd.maxY,window.parent.document);
    	var xi = xyt1[0];
    	var yi = xyt1[1];
    	var xf = xyt2[0];
    	var yf = xyt2[1];
    	var b = window.parent.document.getElementById("boxg")
    	if (navn)
    	{
    		b.style.left = xi+"px"
    		b.style.top = yf+"px"
    		b.style.width = xf - xi + "px"
    		b.style.height = yi - yf + "px"
    	}
    	if (navm)
    	{
    		b.style.pixelLeft = xi
    		b.style.pixelTop = yf
    		b.style.width = xf - xi
    		b.style.height = yi - yf
    	}
    	b.style.display="block"
    }
    function panTogoogle()
    {
    	var b = window.parent.document.getElementById("boxg");
    	b.style.display="block";
    	pol = window.parent.objmapa.extent;
    	ret = pol.split(" ");
    	pt1 = (( (ret[0] * -1) - (ret[2] * -1) ) / 2) + ret[0] *1;
    	pt2 = (((ret[1] - ret[3]) / 2)* -1) + ret[1] *1;
    	map.centerAndZoom(new GPoint(pt1,pt2),map.getZoomLevel());
    }
    ondegoogle(map);
    </script>
</html>