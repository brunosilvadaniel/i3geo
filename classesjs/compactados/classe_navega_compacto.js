if(typeof(i3GEO)=='undefined'){i3GEO=new Array()}i3GEO.navega={FATORZOOM:2,zoomin:function(locaplic,sid){YAHOO.log("zoomin","i3geo");if(arguments.length==0){var locaplic=i3GEO.configura.locaplic;var sid=i3GEO.configura.sid}i3GEO.janela.abreAguarde("ajaxredesenha",$trad("o1"));var p=locaplic+"/classesphp/mapa_controle.php?funcao=aproxima&nivel="+i3GEO.navega.FATORZOOM+"&g_sid="+sid;var cp=new cpaint();cp.set_async("true");cp.set_response_type("JSON");cp.call(p,"aproxima",ajaxredesenha)},zoomout:function(locaplic,sid){YAHOO.log("zoomout","i3geo");if(arguments.length==0){var locaplic=i3GEO.configura.locaplic;var sid=i3GEO.configura.sid}i3GEO.janela.abreAguarde("ajaxredesenha",$trad("o1"));var p=locaplic+"/classesphp/mapa_controle.php?funcao=afasta&nivel="+i3GEO.navega.FATORZOOM+"&g_sid="+sid;var cp=new cpaint();cp.set_async("true");cp.set_response_type("JSON");cp.call(p,"afasta",ajaxredesenha)},zoomponto:function(locaplic,sid,x,y){YAHOO.log("zoomponto","i3geo");i3GEO.janela.abreAguarde("ajaxredesenha",$trad("o1"));var p=locaplic+"/classesphp/mapa_controle.php?funcao=zoomponto&pin=pin&xy="+x+" "+y+"&g_sid="+sid;var cp=new cpaint();cp.set_async("true");cp.set_response_type("JSON");cp.call(p,"zoomPonto",ajaxredesenha)},localizaIP:function(locaplic,sid,funcao){YAHOO.log("localizaIP","i3geo");var p=locaplic+"/classesphp/mapa_controle.php?funcao=localizaIP&g_sid="+sid;var cp=new cpaint();cp.set_async("true");cp.set_response_type("JSON");cp.call(p,"IP",funcao)},zoomIP:function(locaplic,sid){try{if(arguments.length==0){var locaplic=i3GEO.configura.locaplic;var sid=i3GEO.configura.sid}var mostraIP=function(retorno){if(retorno.data.latitude!=null){i3GEO.navega.zoomponto(locaplic,sid,retorno.data.longitude,retorno.data.latitude)}else{alert("Nao foi possivel identificar a localizacao.")}};i3GEO.navega.localizaIP(locaplic,sid,mostraIP)}catch(e){var e=""}},zoomExt:function(locaplic,sid,tipoimagem,ext){YAHOO.log("zoomExt","i3geo");if(tipoimagem==""){var tipoimagem="nenhum"}i3GEO.janela.abreAguarde("ajaxredesenha",$trad("o1"));var p=locaplic+"/classesphp/mapa_controle.php?funcao=mudaext&tipoimagem="+tipoimagem+"&ext="+ext+"&g_sid="+sid;var cp=new cpaint();cp.set_async("true");cp.set_response_type("JSON");cp.call(p,"mudaExtensao",ajaxredesenha)},aplicaEscala:function(locaplic,sid,escala){YAHOO.log("aplicaescala","i3geo");i3GEO.janela.abreAguarde("ajaxredesenha",$trad("o1"));var p=locaplic+"/classesphp/mapa_controle.php?funcao=mudaescala&escala="+escala+"&g_sid="+sid;var cp=new cpaint();cp.set_async("true");cp.set_response_type("JSON");cp.call(p,"mudaEscala",ajaxredesenha)},panFixo:function(locaplic,sid,direcao,w,h,escala){YAHOO.log("panfixo","i3geo");if(direcao=="norte"){var y=h/6;var x=w/2}if(direcao=="sul"){var y=h-(h/6);var x=w/2}if(direcao=="leste"){var x=w-(w/6);var y=h/2}if(direcao=="oeste"){var x=w/6;var y=h/2}if(direcao=="nordeste"){var y=h/6;var x=w-(w/6)}if(direcao=="sudeste"){var y=h-(h/6);var x=w-(w/6)}if(direcao=="noroeste"){var y=h/6;var x=w/6}if(direcao=="sudoeste"){var y=h-(h/6);var x=w/6}i3GEO.janela.abreAguarde("ajaxredesenha",$trad("o1"));var p=locaplic+"/classesphp/mapa_controle.php?funcao=pan&escala="+escala+"&x="+x+"&y="+y+"&g_sid="+sid;var cp=new cpaint();cp.set_async("true");cp.set_response_type("JSON");cp.call(p,"pan",ajaxredesenha)}};