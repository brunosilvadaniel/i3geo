g_templateLegenda="";g_posicaoLenteX=0;g_posicaoLenteY=0;g_autoRedesenho=0;g_embedLegenda="nao";g_3dmap="";g_fatordezoom=0;g_diminuixM=20;g_diminuixN=25;g_diminuiyM=106;g_diminuiyN=103;g_funcaoTip="verificaTipDefault()";g_tipotip="balao";g_tipoimagem="nenhum";g_sistemas="";destacaTamanho=75;g_entorno="nao";oMenuData={"ajudas":[{text:$trad("u1"),url:"http://www.softwarepublico.gov.br/spb/ver-comunidade?community_id=1444332"},{text:$trad("u2"),url:"javascript:abreDoc()"},{text:$trad("u3"),url:"http://pt.wikibooks.org/wiki/I3geo"},{text:$trad("u4"),url:"http://mapas.mma.gov.br/wikibooki3geo"},{text:$trad("u5a"),url:"http://www.softwarepublico.gov.br"},{text:"i3Geo Blog",url:"http://sistemas.mma.gov.br/blogs/index.php?blog=6"}],"analise":[{text:'<span style=color:gray;text-decoration:underline; ><b>'+$trad("u22")+'</b></span>',url:"#"},{text:$trad("u7"),url:"javascript:gradePol()"},{text:$trad("u8"),url:"javascript:gradePontos()"},{text:$trad("u9"),url:"javascript:gradeHex()"},{text:'<span style=color:gray;text-decoration:underline; ><b>'+$trad("u23")+'</b></span>',url:"#"},{text:$trad("u11a"),url:"javascript:distanciaptpt()"},{text:$trad("u12"),url:"javascript:nptPol()"},{text:$trad("u13"),url:"javascript:pontoempoligono()"},{text:$trad("u14"),url:"javascript:pontosdistri()"},{text:'<span style=color:gray;text-decoration:underline; ><b>'+$trad("u24")+'</b></span>',url:"#"},{text:$trad("u11"),url:"javascript:centroide()"},{text:$trad("u25"),url:"javascript:dissolve()"},{text:'<span style=color:gray;text-decoration:underline; ><b>'+$trad("u27")+'</b></span>',url:"#"},{text:$trad("u6"),url:"javascript:analisaGeometrias()"},{text:$trad("u10"),url:"javascript:buffer()"},{text:$trad("u26"),url:"javascript:agrupaElementos()"}]};oMenuData.janelas=[{text:$trad("u15"),url:"javascript:initJanelaZoom('1');initJanelaZoom('2')"},{text:$trad("u16"),url:"javascript:i3GEO.ajuda.abreJanela()"}];oMenuData.arquivo=[{text:$trad("u17"),url:"javascript:salvaMapa()"},{text:$trad("u18"),url:"javascript:carregaMapa()"},{text:$trad("u19"),url:"javascript:i3GEO.gadgets.quadros.listaImagens()"},{text:$trad("u20"),url:"javascript:convertews()"},{text:$trad("u21"),url:"../geradordelinks.htm"}];g_listaFuncoesBotoes={"botoes":[{iddiv:"historicozoom",tipo:"",dica:$trad("d1"),constroiconteudo:'ativaHistoricoZoom("historicozoom")'},{iddiv:"zoomtot",tipo:"",dica:$trad("d2"),funcaoonclick:function(){i3GEO.navega.zoomExt(i3GEO.configura.locaplic,i3GEO.configura.sid,g_tipoimagem,objmapa.extentTotal);marcadorZoom=""}},{iddiv:"zoomli",tipo:"dinamico",dica:$trad("d3"),funcaoonclick:function(){g_operacao='navega';g_tipoacao='zoomli';i3GEO.barraDeBotoes.ativaIcone("zoomli");if($i("img")){$i("img").title="";i3GEO.util.mudaCursor(i3GEO.configura.cursores,"zoom","img",i3GEO.configura.locaplic)}marcadorZoom=""}},{iddiv:"pan",tipo:"dinamico",dica:$trad("d4"),funcaoonclick:function(){g_tipoacao='pan';g_operacao='navega';i3GEO.barraDeBotoes.ativaIcone("pan");if($i("img")){$i("img").title="";i3GEO.util.mudaCursor(i3GEO.configura.cursores,"pan","img",i3GEO.configura.locaplic)}marcadorZoom="";panMapaInicia=function(){if($i("img")&&(g_tipoacao=="pan")){g_panM="sim";if($i("corpoMapa")){leftinicial=parseInt($i("corpoMapa").style.left);topinicial=parseInt($i("corpoMapa").style.top)}clicinicialx=objposicaocursor.imgx;clicinicialy=objposicaocursor.imgy;ddinicialx=objposicaocursor.ddx;ddinicialy=objposicaocursor.ddy}};panMapaDesloca=function(){if($i("img")&&(g_panM=="sim")){var nx=objposicaocursor.telax-leftinicial-clicinicialx;var ny=objposicaocursor.telay-topinicial-clicinicialy;if(g_entorno=="nao"){var l=0;if(parseInt($i("i3geo").style.left)){var l=parseInt($i("i3geo").style.left)}$i("img").style.left=nx-l;var t=0;if(parseInt($i("i3geo").style.top)){var t=parseInt($i("i3geo").style.top)}$i("img").style.top=ny-t}else{$left("img",objmapa.w*-1+nx);$left("imgS",objmapa.w*-1+nx);$left("imgL",objmapa.w+nx);$left("imgO",objmapa.w*-3+nx);$left("imgN",objmapa.w*-1+nx);$top("img",objmapa.h*-1+ny);$top("imgS",objmapa.h*-1+ny);$top("imgL",objmapa.h*-1+ny);$top("imgN",objmapa.h*-1+ny);$top("imgO",objmapa.h*-1+ny)}}};panMapaTermina=function(){if($i("img")&&(g_tipoacao=="pan")){marcadorZoom="";g_panM="nao";var res=i3GEO.navega.xy2xy(i3GEO.configura.locaplic,i3GEO.configura.sid,ddinicialx,ddinicialy,objposicaocursor.ddx,objposicaocursor.ddy,objmapa.extent,g_tipoimagem);if(res==false){i3GEO.navega.zoompontoIMG(i3GEO.configura.locaplic,i3GEO.configura.sid,objposicaocursor.imgx,objposicaocursor.imgy)}}};if(i3GEO.eventos.MOUSEDOWN.toString().search("panMapaInicia()")<0){i3GEO.eventos.MOUSEDOWN.push("panMapaInicia()")}if(i3GEO.eventos.MOUSEMOVE.toString().search("panMapaDesloca()")<0){i3GEO.eventos.MOUSEMOVE.push("panMapaDesloca()")}if(i3GEO.eventos.MOUSEUP.toString().search("panMapaTermina()")<0){i3GEO.eventos.MOUSEUP.push("panMapaTermina()")}}},{iddiv:"zoomiauto",tipo:"",dica:$trad("d5"),funcaoonclick:function(){i3GEO.navega.zoomin(i3GEO.configura.locaplic,i3GEO.configura.sid);marcadorZoom=""}},{iddiv:"zoomoauto",tipo:"",dica:$trad("d6"),funcaoonclick:function(){i3GEO.navega.zoomout(i3GEO.configura.locaplic,i3GEO.configura.sid);marcadorZoom=""}},{iddiv:"identifica",tipo:"dinamico",dica:$trad("d7"),funcaoonclick:function(){if($i("img")){$i("img").title="";i3GEO.util.mudaCursor(i3GEO.configura.cursores,"identifica","img",i3GEO.configura.locaplic)}i3GEO.barraDeBotoes.ativaIcone("identifica");g_tipoacao='identifica';g_operacao='identifica';cliqueIdentifica=function(){if(g_tipoacao=="identifica"){wdocaf("450px","250px",i3GEO.configura.locaplic+'/ferramentas/identifica/index.htm?&x='+objposicaocursor.ddx+'&y='+objposicaocursor.ddy+'&escala='+objmapa.scale,"","","Identifica")}};verificaTip=function(){if(g_operacao!="identifica"){return}verificaTipDefault=function(){var retorna=function(retorno){var i=$i("i3geo_rosa");if(i){i.style.display="none"}var mostra=false;try{var retorno=retorno.data;if($i("img")){$i("img").title=""}if(retorno!=""){var res="";var temas=retorno.split("!");var tema=temas.length-1;if(tema>=0){do{var titulo=temas[tema].split("@");if(g_tipotip=="completo"||g_tipotip=="balao"){res+="<span style='text-align:left;font-size:9pt'><b>"+titulo[0]+"</b></span><br>"}var ocorrencias=titulo[1].split("*");var ocorrencia=ocorrencias.length-1;if(ocorrencia>=0){do{if(ocorrencias[ocorrencia]!=""){var pares=ocorrencias[ocorrencia].split("##");var paresi=pares.length;for(var par=0;par<paresi;par++){var valores=pares[par].split("#");if(g_tipotip=="completo"||g_tipotip=="balao"){res=res+"<span class='tiptexto' style='text-align:left;font-size:9pt'>"+valores[0]+" <i>"+valores[1]+"</i></span><br>";var mostra=true}else{res=res+"<span class='tiptexto' style='text-align:left;font-size:9pt'><i>"+valores[1]+"</i></span><br>";var mostra=true}}}}while(ocorrencia--)}}while(tema--)}if(!mostra){$i("tip").style.display="none";return}else{if(g_tipotip!="balao"){var n=i3GEO.janela.tip();$i(n).style.textAlign="left";$i(n).innerHTML+=res}else{var n=i3GEO.janela.tip("<img src='"+i3GEO.configura.locaplic+"/imagens/grabber.gif' />");balloon=new Balloon;var res="<div style=text-align:left >"+res+"</div>";$i(n+"cabecatip").onmouseover=function(evt){balloon.showTooltip(evt,res)}}}}}catch(e){}};var p=i3GEO.configura.locaplic+"/classesphp/mapa_controle.php?funcao=identifica&opcao=tip&xy="+objposicaocursor.ddx+","+objposicaocursor.ddy+"&resolucao=5&g_sid="+i3GEO.configura.sid;var cp=new cpaint();cp.set_persistent_connection(true);cp.set_response_type("JSON");cp.call(p,"identifica",retorna)};if(g_operacao=="identifica"){eval(g_funcaoTip)}};if(i3GEO.eventos.MOUSECLIQUE.toString().search("cliqueIdentifica()")<0){i3GEO.eventos.MOUSECLIQUE.push("cliqueIdentifica()")}if(i3GEO.eventos.MOUSEPARADO.toString().search("verificaTip()")<0){i3GEO.eventos.MOUSEPARADO.push("verificaTip()")}}},{iddiv:"exten",tipo:"",dica:$trad("d8"),funcaoonclick:function(){wdocaf("450px","340px",i3GEO.configura.locaplic+"/ferramentas/mostraexten/index.htm","","","Extensão geográfica")}},{iddiv:"referencia",tipo:"",dica:$trad("d9"),funcaoonclick:function(){i3GEO.maparef.inicia()}},{iddiv:"wiki",tipo:"",dica:$trad("d11"),funcaoonclick:function(){g_operacao="navega";wdocaf("450px","190px",i3GEO.configura.locaplic+"/ferramentas/wiki/index.htm","","","Wiki");atualizawiki=function(){var docel=(navm)?document.frames("wdocai").document:$i("wdocai").contentDocument;if(docel.getElementById("resultadowiki")){$i("wdocai").src=i3GEO.configura.locaplic+"/ferramentas/wiki/index.htm"}else{i3GEO.eventos.NAVEGAMAPA.remove("atualizawiki()")}};if(i3GEO.eventos.NAVEGAMAPA.toString().search("atualizawiki()")<0){i3GEO.eventos.NAVEGAMAPA.push("atualizawiki()")}}},{iddiv:"buscafotos",tipo:"",dica:"Fotos",funcaoonclick:function(){g_operacao="navega";wdocaf("550px","400px",i3GEO.configura.locaplic+"/ferramentas/buscafotos/index.htm","","","Fotos");i3GEO.util.criaPin()}},{iddiv:"imprimir",tipo:"",dica:$trad("d12"),funcaoonclick:function(){wdocaf("320px","180px",i3GEO.configura.locaplic+"/ferramentas/imprimir/index.htm","","","Imprimir")}},{iddiv:"ondeestou",tipo:"",dica:$trad("d13"),funcaoonclick:function(){i3GEO.navega.zoomIP(i3GEO.configura.locaplic,i3GEO.configura.sid)}},{iddiv:"v3d",tipo:"",dica:$trad("d14"),funcaoonclick:function(){wdocaf("400px","200px",i3GEO.configura.locaplic+"/ferramentas/3d/index.htm","","","3d")}},{iddiv:"google",tipo:"",dica:$trad("d15"),funcaoonclick:function(){i3GEO.util.criaBox();g_operacao="navega";if(navn){wdocaf((objmapa.w/2)+20+"px",(objmapa.h/2)+20+"px",i3GEO.configura.locaplic+"/ferramentas/googlemaps/index.php","","","Google maps")}else{wdocaf("500px","380px",i3GEO.configura.locaplic+"/ferramentas/googlemaps/index.php","","","Google maps")}atualizagoogle=function(){try{if(navn){if($i("wdocai")){var doc=$i("wdocai").contentDocument}}else{if(document.frames("wdocai")){var doc=document.frames("wdocai").document}}if(window.parent.frames["wdocai"].panTogoogle){window.parent.frames["wdocai"].panTogoogle()}else{i3GEO.eventos.NAVEGAMAPA.remove("atualizagoogle()")}}catch(e){}};if(i3GEO.eventos.NAVEGAMAPA.toString().search("atualizagoogle()")<0){i3GEO.eventos.NAVEGAMAPA.push("atualizagoogle()")}}},{iddiv:"scielo",tipo:"",dica:$trad("d16"),funcaoonclick:function(){g_operacao="navega";wdocaf("450px","190px",i3GEO.configura.locaplic+"/ferramentas/scielo/index.htm","","","Scielo");atualizascielo=function(){try{var docel=(navm)?document.frames("wdocai").document:$i("wdocai").contentDocument;if(docel.getElementById("resultadoscielo")){$i("wdocai").src=i3GEO.configura.locaplic+"/ferramentas/scielo/index.htm"}else{i3GEO.eventos.NAVEGAMAPA.remove("atualizascielo()")}}catch(e){}};if(i3GEO.eventos.NAVEGAMAPA.toString().search("atualizascielo()")<0){i3GEO.eventos.NAVEGAMAPA.push("atualizascielo()")}}},{iddiv:"confluence",tipo:"",dica:$trad("d17"),funcaoonclick:function(){g_operacao="navega";wdocaf("250px","190px",i3GEO.configura.locaplic+"/ferramentas/confluence/index.htm","","","confluence");i3GEO.util.criaBox();atualizaconfluence=function(){var docel=(navm)?document.frames("wdocai").document:$i("wdocai").contentDocument;if(docel.getElementById("resultadoconfluence")){$i("wdocai").src=i3GEO.configura.locaplic+"/ferramentas/confluence/index.htm"}else{i3GEO.eventos.NAVEGAMAPA.remove("atualizaconfluence()")}};if(i3GEO.eventos.NAVEGAMAPA.toString().search("atualizaconfluence()")<0){i3GEO.eventos.NAVEGAMAPA.push("atualizaconfluence()")}}},{iddiv:"lentei",tipo:"",dica:$trad("d18"),funcaoonclick:function(){lenteDeAumento()}},{iddiv:"encolheFerramentas",tipo:"",dica:$trad("d19"),funcaoonclick:function(){docaguias()}},{iddiv:"reinicia",tipo:"",dica:$trad("d20"),funcaoonclick:function(){i3GEO.janela.abreAguarde("ajaxredesenha",$trad("o1"));var p=i3GEO.configura.locaplic+"/classesphp/mapa_controle.php?funcao=reiniciaMapa&g_sid="+i3GEO.configura.sid;var cp=new cpaint();cp.set_response_type("JSON");cp.call(p,"reiniciaMapa",ajaxredesenha)}},{iddiv:"mede",tipo:"dinamico",dica:$trad("d21"),funcaoonclick:function(){i3GEO.barraDeBotoes.ativaIcone("mede");if($i("img")){$i("img").title="";i3GEO.util.mudaCursor(i3GEO.configura.cursores,"distancia","img",i3GEO.configura.locaplic)}mede();g_tipoacao="mede"}},{iddiv:"area",tipo:"dinamico",dica:$trad("d21a"),funcaoonclick:function(){i3GEO.barraDeBotoes.ativaIcone("area");if($i("img")){$i("img").title="";i3GEO.util.mudaCursor(i3GEO.configura.cursores,"area","img",i3GEO.configura.locaplic)}area()}},{iddiv:"inserexy",tipo:"dinamico",dica:$trad("d22"),funcaoonclick:function(){i3GEO.barraDeBotoes.ativaIcone("inserexy");inserexy();if($i("img")){$i("img").title="clique para inserir um ponto";$i("img").style.cursor="crosshair"}}},{iddiv:"inseregrafico",tipo:"dinamico",dica:$trad("d23"),funcaoonclick:function(){i3GEO.barraDeBotoes.ativaIcone("inseregrafico");inseregrafico();if($i("img")){$i("img").title="clique para incluir o gráfico";$i("img").style.cursor="pointer"}}},{iddiv:"selecao",tipo:"dinamico",dica:$trad("d24"),funcaoonclick:function(){i3GEO.barraDeBotoes.ativaIcone("selecao");selecao();if($i("img")){$i("img").title="";$i("img").style.cursor="pointer"}}},{iddiv:"textofid",tipo:"dinamico",dica:$trad("d25"),funcaoonclick:function(){i3GEO.barraDeBotoes.ativaIcone("textofid");textofid();if($i("img")){$i("img").title="clique para inserir o texto";$i("img").style.cursor="pointer"}}},{iddiv:"menus",tipo:"",constroiconteudo:'montaMenuSuspenso("menus")'}]};