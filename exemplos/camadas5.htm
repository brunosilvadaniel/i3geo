<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Category" content="i3Geo Mapa interativo MMA geoprocessamento sig mobile">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">

<title>i3GEO - OpenLayers</title>

</head>
<body id="i3geo" style="background-color:white">
<table id='mst' summary="" style='display:none;' width=100% cellspacing='0'>
	<tr style="border:0px">
		<td id="barraSuperior" style="background-image:url('../imagens/visual/default/cabeca.png');height:10px"></td>
	</tr>
	<tr>
		<td id="contemMenu" style="text-align:right;border-width:0pt 0pt 1px;border-color:rgb(240,240,240)">
			<div id="menus" ></div>
		</td>
	</tr>
	<tr>
		<td style="vertical-align:top;border-width:0px;">
			<table width="100%" style="vertical-align:top;border-width:0px">
				<tr>
					<td  class=verdeclaro id=contemImg >
						<div id=corpoMapa style="position:relative;background-image:url('../imagens/i3geo1bw.jpg');"></div>
					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr>
		<td>
			<table width=100% >
				<tr>
					<td class=tdbranca >
						<div id=i3GEOcompartilhar style="text-align:left;border-top:1px solid rgb(250,250,250);padding-top:1px" ></div>
						<div id=tempoRedesenho style=color:green;background-color:black;width:50px;display:none ></div>
					</td>
					<td class=tdbranca >
						<div id=escala style="text-align:right;" ></div>
					</td>
					<td class=tdbranca  >
						<div id=localizarxy style="text-align:left;font-size:10px;display:inline-table"></div>
					</td>
					<td class=tdbranca  >
						<div id=seletorIdiomas ></div>
					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr style="border:0px">
		<td id="barraInferior" style="background-image:url('../imagens/visual/default/rodape.png');height:10px"></td>
	</tr>
</table>
<center>
<table id="i3GEOlogoMarca" style='box-shadow:0 1px 13px gray;border-radius:5px;'>
	<tr>
		<td><center><h1 style="font-weight:normal;font-size:10px;font-family: Verdana, Arial, Helvetica, sans-serif;"><div id=versaoi3geo ></div><h2 style="font-weight:normal;font-size:10px;font-family: Verdana, Arial, Helvetica, sans-serif;">i3Geo - Software livre para cria&ccedil;&atilde;o de mapas interativos e geoprocessamento<h3 style="font-weight:normal;font-size:10px;font-family: Verdana, Arial, Helvetica, sans-serif;">Baseado no Mapserver, &eacute; licenciado sob GPL e integra o Portal do Software P&uacute;blico Brasileiro</h3></h2></h1></td>
	</tr>
	<tr>
		<td style="padding:10px;"><center><img alt="" style="width:560px;height:81px" src='../imagens/logo_inicio.png' ></td>
	</tr>
	<tr>
		<td><center>
		</td>
	</tr>
</table>

<div id="i3GEOguiaMovel" style="position:absolute;display:block;border:0px solid white;text-align:left;z-index:2000;background-color:none">
	<img id="i3GEOguiaMovelPuxador" onclick='i3GEO.guias.guiaMovel.abreFecha()' style='z-index:2;border:solid 0px white;left:0px;position:absolute;top:0px' width='0px' src='../imagens/openbars.png' >
	<div id="i3GEOguiaMovelMolde" style="box-shadow:-2px 0 2px gray;border-radius:5px 0px 0px 5px;position:absolute;display:none;border:0px solid white;text-align:left;z-index:1000;background-color:gray">
		<div id="i3GEOguiaMovelIcones" style='overflow:none;left:0px;display:none;position:absolute;top:0px;text-align:center;height:0px;width:0px;border:solid 0px white;background-color:white' ></div>
		<div id="i3GEOguiaMovelConteudo" style='overflow:auto;display:none;position:absolute;border-color:gray;border-width:0px 0 0px 0px;left:0px;height:0px;background-color:white'>
			<div id='guia1obj' style='display:none;' >
				<div style='left:5px;top:10px;' id=buscaRapida ></div>
				<div id=listaPropriedades style='top:15px;' ></div>
				<div id=listaLayersBase style='top:15px;'></div>
				<div id=listaTemas style='top:15px;'></div>
			</div>
			<div id='guia2obj' style='display:none;'>Aguarde...<img alt="" src="../imagens/branco.gif" width=248 /></div>
			<div id='guia4obj' style='display:none;text-align:left'><div id='legenda' style='text-align:left'></div></div>
			<div id='guia5obj' style='display:none;text-align:left'><div id='banners' style='overflow:auto;text-align:left'>Aguarde...</div></div>
		</div>
	</div>
</div>
<script src="../classesjs/i3geo.js"></script>
<script src="../pacotes/openlayers/OpenLayers2131.js.php"></script>
<style>
.olControlEditingToolbar1 div {
	background-image:url(../mashups/openlayers.png);
	background-repeat:no-repeat;
	float:right;
	right: 0px;
	height:29px;
	margin:2px;
	width:29px;
	cursor:pointer;
}
</style>
<script>
i3GEO.configura.mashuppar = "&temasa=estadosl locali";
alert("Experimente abrir a guia movel e clique na camada Limite Estadual para desativa-la");
//
//exemplo de como manipular os checkbox da &aacute;rvore de camadas
//
//aqui &eacute; definida a fun&ccedil;&atilde;o que ser&aacute; executada após a &aacute;rvore de camadas original ter sido criada
i3GEO.arvoreDeCamadas.finaliza = "alteraArvore();";
//funcao que ir&aacute; recriar a &aacute;rvore com uma nova fun&ccedil;&atilde;o nos checkbox
function alteraArvore(){
	//a vari&aacute;vel i3GEO.arvoreDeCamadas.ATIVATEMA pode ser utilizada para substituir a fun&ccedil;&atilde;o default que liga/desliga uma camada
	i3GEO.arvoreDeCamadas.ATIVATEMA = "novaFuncaoLigaDesliga(this)";
	//for&ccedil;a a remontagem da &aacute;rvore, agora ela ir&aacute; usar a nova fun&ccedil;&atilde;o
	i3GEO.arvoreDeCamadas.atualiza(i3GEO.arvoreDeCamadas.CAMADAS,true);
}
//funcao que vai fazer alguma coisa quando o checkbox for clicado
function novaFuncaoLigaDesliga(objInput){
	var codigoTema = objInput.value,
		ck;
	//altera a situa&ccedil;&atilde;o de outros temas
	if(codigoTema == "estadosl"){
		//captura o checkbox de outra camada
		ck = i3GEO.arvoreDeCamadas.capturaCheckBox("locali");
		//se o estado da camada desejada for igual ao da camada clicada, n&atilde;o faz nada
		if(ck.checked != objInput.checked){
			//coloca o checkbox no mesmo estado daquele que foi clicado
			ck.checked = objInput.checked;
			//altera o status da camada desejada
			i3GEO.Interface.openlayers.ligaDesliga(ck);
		}
	}
	//executa a fun&ccedil;&atilde;o normal
	i3GEO.Interface.openlayers.ligaDesliga(objInput);
	i3GEO.eventos.executaEventos(i3GEO.eventos.ATUALIZAARVORECAMADAS);
}
/////////////////////////////////////////////////////////////


i3GEO.configura.locaplic = i3GEO.util.protocolo()+"://"+window.location.host+"/i3geo";
i3GEO.configura.autotamanho = false;
i3GEO.Interface.ATUAL = "openlayers";
i3GEO.Interface.IDCORPO = "contemImg";
i3GEO.Interface.openlayers.GADGETS = {
		PanZoomBar:true,
		PanZoom:false,
		LayerSwitcher:true,
		ScaleLine:true,
		OverviewMap:false
	};
i3GEO.Interface.openlayers.TILES = true;
i3GEO.gadgets.PARAMETROS.mostraMenuSuspenso.finaliza = 'if($i("omenudataInterface1")){i3GEOoMenuBar.getMenuItem("omenudataInterface1").cfg.setProperty("text", " ");}'
i3GEO.cria();
i3GEO.configura.mapaRefDisplay = "none";
i3GEO.barraDeBotoes.TIPO = "olhodepeixe";
i3GEO.barraDeBotoes.OFFSET = -3;
i3GEO.configura.oMenuData["submenus"]["janelas"] = [];
i3GEO.ajuda.ATIVAJANELA = false;
i3GEO.idioma.IDSELETOR = "seletorIdiomas";
i3GEO.Interface.ATIVAMENUCONTEXTO = false;
i3GEO.arvoreDeTemas.TIPOBOTAO = "radio";

i3GEO.arvoreDeTemas.OPCOESADICIONAIS.comentarios = true;
i3GEO.arvoreDeCamadas.VERIFICAABRANGENCIATEMAS = true;
i3GEO.arvoreDeCamadas.MOSTRALISTAKML = false;
i3GEO.mapa.AUTORESIZE = true;
i3GEO.guias.TIPO = "movel";
i3GEO.guias.guiaMovel.config.topGuiaMovel = 0;
OpenLayers.ImgPath = "../pacotes/openlayers/img/";
(function(){
	var oce = new OpenLayers.Layer.ArcGIS93Rest(
		"ESRI Ocean Basemap",
		"http://server.arcgisonline.com/ArcGIS/rest/services/Ocean_Basemap/MapServer/export",
		{format:"jpeg"},
		{isBaseLayer:true,visibility:false}
	);
	var ims = new OpenLayers.Layer.ArcGIS93Rest(
		"ESRI Imagery World 2D",
		"http://server.arcgisonline.com/ArcGIS/rest/services/ESRI_Imagery_World_2D/MapServer/export",
		{format:"jpeg"},
		{isBaseLayer:true,visibility:false}
	);
	var wsm = new OpenLayers.Layer.ArcGIS93Rest(
		"ESRI World Street Map",
		"http://server.arcgisonline.com/ArcGIS/rest/services/ESRI_StreetMap_World_2D/MapServer/export",
		{format:"jpeg"},
		{isBaseLayer:true,visibility:false}
	);
	var bra = new OpenLayers.Layer.WMS(
		"Base carto MMA",
		"http://mapas.mma.gov.br/cgi-bin/mapserv?map=/opt/www/html/webservices/baseraster.map",
		{layers:"baseraster",srs:"EPSG:4618",format:"image/png",isBaseLayer:false},
		{isBaseLayer:true,visibility:false}
	);
	i3GEO.Interface.openlayers.LAYERSADICIONAIS = [oce,ims,wsm,bra];
})();
i3GEO.finaliza = function(){
	if($i("i3GEOlogoMarca"))
	{$i("i3GEOlogoMarca").style.display = "none";}
	i3GEO.mapa.insereDobraPagina("googlemaps","../imagens/dobragooglemaps.png");
}
i3GEO.arvoreDeTemas.OPCOESADICIONAIS.navegacaoDir = true;
i3GEO.inicia();
</script>
</body>
</html>
