def.scope(function(){def.type('pvc.visual.Legend',pvc.visual.OptionsBase).init(function(chart,type,index,keyArgs){keyArgs=def.set(keyArgs,'byNaked',false);this.base(chart,type,index,keyArgs)}).add({_getOptionsDefinition:function(){return legend_optionsDef}});function castSize(size){if(!def.object.is(size)){var position=this.option('Position');size=new pvc.Size().setSize(size,{singleProp:pvc.BasePanel.orthogonalLength[position]})}return size}function castAlign(align){var position=this.option('Position');return pvc.parseAlign(position,align)}var legend_optionsDef={Position:{resolve:'_resolveFull',cast:pvc.parsePosition,value:'bottom'},Size:{resolve:'_resolveFull',cast:castSize},SizeMax:{resolve:'_resolveFull',cast:castSize},Align:{resolve:'_resolveFull',data:{resolveDefault:function(optionInfo){var position=this.option('Position');var align;if(position!=='top'&&position!=='bottom'){align='top'}else if(this.chart.compatVersion()<=1){align='left'}optionInfo.defaultValue(align);return true}},cast:castAlign},Margins:{resolve:'_resolveFull',data:{resolveDefault:function(optionInfo){if(this.chart.compatVersion()>1){var position=this.option('Position');var margins=def.set({},pvc.BasePanel.oppositeAnchor[position],5);optionInfo.defaultValue(margins)}return true}},cast:pvc.Sides.as},Paddings:{resolve:'_resolveFull',cast:pvc.Sides.as,value:5},Font:{resolve:'_resolveFull',cast:String,value:'10px sans-serif'}}});