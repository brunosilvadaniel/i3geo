
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>OpenLayers: Vector Features</title>
  <link rel="stylesheet" href="../OpenLayers-2.10/theme/default/style.css" type="text/css" />
  <link rel="stylesheet" href="style.css" type="text/css" />
  <script src="../../openlayers/OpenLayers29.js.php" type="text/javascript"></script> 

<script type="text/javascript" src="../jstsi3geo.js"></script>

<script type="text/javascript">
  var map;

  function init() {
    map = new OpenLayers.Map('map', {
      maxExtent: new OpenLayers.Bounds(-500,-500, 500, 500)
    });
    var layer = new OpenLayers.Layer.WMS("OpenLayers WMS",
        "http://vmap0.tiles.osgeo.org/wms/vmap0", {
          layers: 'basic'
        });
    map.addLayer(layer);


    var vectorLayer = new OpenLayers.Layer.Vector("Simple Geometry");

    // create a point feature
    var point = new jsts.geom.Coordinate(-111.04, 45.68);

    // create a line feature from a list of points
    var pointList = [];
    var newPoint = point;
    for ( var p = 0; p < 15; ++p) {
      newPoint = new jsts.geom.Coordinate(newPoint.x + Math.random(1),
          newPoint.y + Math.random(1));
      pointList.push(newPoint);
    }
    
    var lineString = new jsts.geom.LineString(pointList);
    
    //var isSimple = lineString.isSimple();
    
    var lineFeature = new OpenLayers.Feature.Vector(lineString);

    map.addLayer(vectorLayer);
    map.setCenter(new OpenLayers.LonLat(point.x, point.y), 5);
    
    var reader = new jsts.io.WKTReader();
    var a = reader.read('POLYGON ((60 260, 260 180, 100 60, 60 160, 60 260))');
    var b = reader.read('POLYGON ((220 280, 120 160, 300 60, 360 220, 220 280))');
    var c = new jsts.geom.Coordinate(220, 280); 
    
    vectorLayer.addFeatures([new OpenLayers.Feature.Vector(a),new OpenLayers.Feature.Vector(b),new OpenLayers.Feature.Vector(c)]);
    
    var result = a.distance(b);
    
    console.log(result);
  }
</script>
</head>
<body onload="init()">
	<h1 id="title">IsSimpleOp Example</h1>

	<div id="tags"></div>
	<p id="shortdesc">Shows the use of IsSimpleOp</p>
	<div id="map" class="smallmap"></div>

</body>
</html>
