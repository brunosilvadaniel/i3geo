<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: Convert Data To Class psp</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="../../R.css">
</head><body>

<table width="100%" summary="page for as.psp {spatstat}"><tr><td>as.psp {spatstat}</td><td align="right">R Documentation</td></tr></table>
<h2>Convert Data To Class psp</h2>


<h3>Description</h3>

<p>
Tries to coerce any reasonable kind of data to a line segment pattern
(an object of class <code>"psp"</code>)
for use by the <STRONG>spatstat</STRONG> package.
</p>


<h3>Usage</h3>

<pre>
  as.psp(x, ..., from=NULL, to=NULL)
  ## S3 method for class 'psp':
  as.psp(x, ..., fatal=TRUE)
  ## S3 method for class 'data.frame':
  as.psp(x, ..., window=NULL, marks=NULL, fatal=TRUE)
  ## S3 method for class 'matrix':
  as.psp(x, ..., window=NULL, marks=NULL, fatal=TRUE)
  ## S3 method for class 'owin':
  as.psp(x, ..., fatal=TRUE)
  ## Default S3 method:
  as.psp(x, ..., window=NULL, marks=NULL, fatal=TRUE)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
Data which will be converted into a line segment pattern</td></tr>
<tr valign="top"><td><code>window</code></td>
<td>
Data which define a window for the pattern
when <code>x</code> does not contain a window</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
Ignored.</td></tr>
<tr valign="top"><td><code>marks</code></td>
<td>
(Optional) vector of marks for the pattern</td></tr>
<tr valign="top"><td><code>fatal</code></td>
<td>
Logical value. See Details.</td></tr>
<tr valign="top"><td><code>from,to</code></td>
<td>
Point patterns (object of class <code>"ppp"</code>)
containing the first and second endpoints (respectively) of each
segment. Incompatible with <code>x</code>.
</td></tr>
</table>

<h3>Details</h3>

<p>
Converts the dataset <code>x</code> to a line segment pattern
(an object of class <code>"psp"</code>; see <code><a href="psp.object.html">psp.object</a></code> for
an overview).
</p>
<p>
This function is normally used to convert an existing line segment pattern
dataset, stored in another format, to the <code>"psp"</code> format.
To create a new point pattern from raw data such as <i>x,y</i>
coordinates, it is normally easier to use the creator function
<code><a href="psp.html">psp</a></code>.
</p>
<p>
The dataset <code>x</code> may be:
<ul>
<li>an object of class <code>"psp"</code>  
<li>a data frame with columns named <code>x0, y0, x1, y1</code>
that will be interpreted as the coordinates of the endpoints
of the segments
<li>a data frame or matrix with exactly 4 columns
that will be interpreted as the coordinates <code>x0, y0, x1, y1</code>
of the endpoints of the segments
<li>a data frame with columns named <code>xmid, ymid, length, angle</code>
that will be interpreted as the coordinates of the segment
midpoints, the lengths of the segments, and the orientations of the
segments in radians
<li>a structure with elements named  <code>x0, y0, x1, y1</code>
or elements named <code>xmid, ymid, length, angle</code>
which will be interpreted as above.
<li>an object of class <code>"owin"</code> representing a spatial window;
it must be of type <code>"rectangle"</code> or <code>"polygonal"</code>.
The boundary edges of the window will be extracted as a line segment
pattern.
</ul>
<p>
Alternatively, you may specify two point patterns
<code>from</code> and <code>to</code> containing the first and second endpoints
of the line segments.
</p>
<p>
The argument <code>window</code> is converted to a window object
by the function <code><a href="as.owin.html">as.owin</a></code>.
</p>
<p>
The argument <code>fatal</code> indicates what to do when
the data cannot be converted to a line segment pattern.
If <code>fatal=TRUE</code>, a fatal error
will be generated; if <code>fatal=FALSE</code>, the
value <code>NULL</code> is returned.
</p>
<p>
The function <code>as.psp</code> is generic, with methods for the
classes <code>"psp"</code>, <code>"data.frame"</code>, <code>"matrix"</code>
and a default method.
</p>
<p>
Point pattern datasets can also be created by the function
<code><a href="psp.html">psp</a></code>.
</p>


<h3>Value</h3>

<p>
An object of class <code>"psp"</code> (see <code><a href="psp.object.html">psp.object</a></code>)
describing the line segment pattern and its window of observation.
The value <code>NULL</code> may also be returned; see Details.</p>

<h3>Author(s)</h3>

<p>
Adrian Baddeley
<a href="mailto:adrian@maths.uwa.edu.au">adrian@maths.uwa.edu.au</a>
<a href="http://www.maths.uwa.edu.au/~adrian/">http://www.maths.uwa.edu.au/~adrian/</a>
and Rolf Turner
<a href="mailto:rolf@math.unb.ca">rolf@math.unb.ca</a>
<a href="http://www.math.unb.ca/~rolf">http://www.math.unb.ca/~rolf</a>
</p>


<h3>See Also</h3>

<p>
<code><a href="psp.html">psp</a></code>,
<code><a href="psp.object.html">psp.object</a></code>,
<code><a href="as.owin.html">as.owin</a></code>,
<code><a href="owin.object.html">owin.object</a></code>
</p>


<h3>Examples</h3>

<pre>
   mat &lt;- matrix(runif(40), ncol=4)
   a &lt;- as.psp(mat, window=owin())
   stuff &lt;- list(xmid=runif(10),
                 ymid=runif(10),
                 length=rep(0.1, 10),
                 angle=runif(10, 0, 2 * pi))
   a &lt;- as.psp(stuff, window=owin())
   b &lt;- as.psp(from=runifpoint(10), to=runifpoint(10))
</pre>



<hr><div align="center">[Package <em>spatstat</em> version 1.10-3 <a href="00Index.html">Index]</a></div>

</body></html>
