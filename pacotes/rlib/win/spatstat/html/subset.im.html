<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: Extract Subset of Image</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="../../R.css">
</head><body>

<table width="100%" summary="page for subset.im {spatstat}"><tr><td>subset.im {spatstat}</td><td align="right">R Documentation</td></tr></table>
<h2>Extract Subset of Image</h2>


<h3>Description</h3>

<p>
Extract a subset or subregion of a pixel image.
</p>


<h3>Usage</h3>

<pre>
  ## S3 method for class 'im':
  x[i, drop=TRUE, ...]
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
A two-dimensional pixel image.
An object of class <code>"im"</code>.
</td></tr>
<tr valign="top"><td><code>i</code></td>
<td>
Object defining the subregion or subset to be extracted.
Either a spatial window (an object of class <code>"owin"</code>)
or a point pattern (an object of class <code>"ppp"</code>).
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
Ignored.</td></tr>
<tr valign="top"><td><code>drop</code></td>
<td>
Logical value. 
Locations in <code>w</code> that lie outside the spatial domain of the
image <code>X</code> return a pixel value of <code>NA</code> if
<code>drop=FALSE</code>, and are omitted if <code>drop=TRUE</code>.
</td></tr>
</table>

<h3>Details</h3>

<p>
This function extracts a subset of the pixel values in a
pixel image. The image <code>X</code> must be an object of class
<code>"im"</code> representing a pixel image defined inside a
rectangle in two-dimensional space (see <code><a href="im.object.html">im.object</a></code>).
</p>
<p>
The subset to be extracted is determined by the argument <code>i</code>.
If <code>i</code> is a spatial window (an object of class <code>"owin"</code>),
the values of the image inside this window are extracted
(after first clipping the window to the spatial domain of the image
if necessary). If <code>i</code> is a point pattern (an object of class
<code>"ppp"</code>), then the values of the pixel image at the points of
this pattern are extracted.
</p>
<p>
At locations outside the spatial domain of the image,
the pixel value is undefined, and is taken to be <code>NA</code>. 
The logical argument <code>drop</code> determines whether such <code>NA</code>
values will be returned or omitted.
It also influences the format of the return value. 
</p>
<p>
If <code>i</code> is a point pattern, 
<code>X[i, drop=FALSE]</code> is a numeric vector
containing the pixel values at each of the points of the pattern.
Its length is equal to the number of points in the pattern <code>i</code>.
It may contain <code>NA</code>s corresponding to points which lie outside
the spatial domain of the image <code>X</code>.
By contrast, <code>X[i]</code> or <code>X[i, drop=TRUE]</code> contains only those
pixel values which are not <code>NA</code>. It may be shorter.
</p>
<p>
If <code>i</code> is a spatial window
then <code>X[i, drop=FALSE]</code> is another pixel image
of the same dimensions as <code>X</code> obtained by 
setting all pixels outside the window <code>i</code> to have value
<code>NA</code>. When the result is displayed by <code><a href="plot.im.html">plot.im</a></code> the effect
is that the pixel image <code>X</code> is clipped to the window <code>i</code>.
</p>
<p>
If <code>i</code> is a spatial window which is <EM>not</EM> a rectangle
(<code>i$type != "rectangle"</code>) then <code>X[i, drop=TRUE]</code>
is a numeric vector containing the pixel values for all pixels
that lie inside the window <code>i</code>.
</p>
<p>
If <code>i</code> is a rectangle (a spatial window
with <code>i$type = "rectangle"</code>) then <code>X[i, drop=TRUE]</code>
is a pixel image. The spatial domain of this image is the
intersection of <code>i</code> with the spatial domain of <code>X</code>.
</p>


<h3>Value</h3>

<p>
Either a pixel image or a vector of pixel values. See Details.</p>

<h3>Author(s)</h3>

<p>
Adrian Baddeley
<a href="mailto:adrian@maths.uwa.edu.au">adrian@maths.uwa.edu.au</a>
<a href="http://www.maths.uwa.edu.au/~adrian/">http://www.maths.uwa.edu.au/~adrian/</a>
and Rolf Turner
<a href="mailto:rolf@math.unb.ca">rolf@math.unb.ca</a>
<a href="http://www.math.unb.ca/~rolf">http://www.math.unb.ca/~rolf</a>
</p>


<h3>See Also</h3>

<p>
<code><a href="im.object.html">im.object</a></code>,
<code><a href="ppp.object.html">ppp.object</a></code>,
<code><a href="owin.object.html">owin.object</a></code>,
<code><a href="plot.im.html">plot.im</a></code>
</p>


<h3>Examples</h3>

<pre>
 # make up an image
 X &lt;- setcov(unit.square())
 plot(X)

 # a rectangular subset
 W &lt;- owin(c(0,0.5),c(0.2,0.8))
 Y &lt;- X[W]
 plot(Y)

 # a polygonal subset
 data(letterR)
 R &lt;- affine(letterR, diag(c(1,1)/2), c(-2,-0.7))
 Y &lt;- X[R, drop=FALSE]
 plot(Y)

 # a point pattern
 P &lt;- rpoispp(20)
 Y &lt;- X[P]
</pre>



<hr><div align="center">[Package <em>spatstat</em> version 1.10-3 <a href="00Index.html">Index]</a></div>

</body></html>
