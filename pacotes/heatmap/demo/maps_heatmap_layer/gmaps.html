<html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<title>heatmap.js GMaps Heatmap Layer</title>
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
</head>
<body>
<div id="mapa" style="width:100%;height:100%;"></div>
<br>
<a href="https://github.com/pa7/heatmap.js" target="_blank">heatmap.js</a>
			
<script type="text/javascript" src="../../../../exemplos/farmaciaspopulares.js"></script>
<script type="text/javascript" src="../../src/heatmap.js"></script>
<script type="text/javascript" src="../../src/heatmap-gmaps.js"></script>
<script type="text/javascript">
/**
O sql que fornece os dados deve incluir as colunas

lng = longitude
lat = latitude
count = valor de cada ponto (se forem ocorrencias individuais, manter como 1)
*/
var map;
var heatmap; 
window.onload = function(){
	var myLatlng = new google.maps.LatLng(latt, longg);
	var myOptions = {
	  zoom: z,
	  center: myLatlng,
	  mapTypeId: google.maps.MapTypeId.ROADMAP,
	  disableDefaultUI: false,
	  scrollwheel: true,
	  draggable: true,
	  navigationControl: true,
	  mapTypeControl: false,
	  scaleControl: true,
	  disableDoubleClickZoom: false
	};
	map = new google.maps.Map(document.getElementById("mapa"), myOptions);
	heatmap = new HeatmapOverlay(map, {
		"radius":15, 
		"visible":true, 
		"opacity":60,
		"gradient": { 0.45: "rgb(0,0,255)", 0.55: "rgb(0,255,255)", 0.65: "rgb(0,255,0)", 0.95: "yellow", 1.0: "rgb(255,0,0)" },
		"legend": {
            "title": "Quantidade de farm&aacute;cias",
            "position": "bl",
            "offset": 25
            }
	});
	var pontos={
    		max: 10,
    		data: dados
    	};
	// this is important, because if you set the data set too early, the latlng/pixel projection doesn't work
	google.maps.event.addListenerOnce(map, "idle", function(){
		heatmap.setDataSet(pontos);
	});
};

</script>
</body>
</html>
